const {
    writeRLE,
    blankNT,
    drawTiles,
    drawRect,
    drawAttrs,
    flatLookup,
} = require('./nametables');

const lookup = flatLookup(`
0123456789ABCDEF
GHIJKLMNOPQRSTUV
WXYZ-,˙>########
########qweadzxc
###############/
##!##~######[]()
#########»#####.
################
################
################
################
################
################
################
################
###############
`);

const buffer = blankNT();
const extra = [...buffer];

drawTiles(buffer, lookup, `
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a                            d#
#a V67                        d#
#a                            d#
#a                            d#
`);

if (process.env['GYM_FLAGS']?.match(/-D KEYBOARD=1/)) {
    drawTiles(extra, lookup, "KEYBOARD", 32 * 15 + 6);
    }

const background = `
ɢ##############################ɳ
ɲ##############################ɢ
ɲ##############################ɲ
ʂ##############################ʡ
ʀ##############################ɢ
ɢ##############################ɂ
ɀ##############################ʂ
ʂ##############################ɢ
ʀ##############################ɂ
ʐ##############################ʂ
ɲ##############################ɡ
ʂ##############################ɲ
ɢ##############################ʂ
ɲ##############################ʃ
ʠ##############################ɡ
ɠ##############################ʂ
ɰ##############################ʃ
ʁ##############################ʁ
ɡ##############################ʃ
ʂ##############################ɢ
ɳ##############################ʠ
ʃ##############################ɳ
ɡ##############################ɡ
ɱ##############################ʂ
ɡ##############################ɡ
ʂ##############################ɱ
ɢ##############################ʁ
ɲ##############################ɢ
ɲ##############################ɲ
ʂ##############################ʡ
`;

drawTiles(buffer, lookup, background);

drawRect(buffer, 8, 2, 10, 5, 0xB0); // draw logo

const urlX = 3;
const urlY = 27;

drawRect(buffer, urlX, urlY, 12, 1, 0x74);
drawRect(buffer, urlX+12, urlY, 12, 1, 0x84);

drawAttrs(buffer, [`
    2222222222222222
    2222211111122222
    2222211111122222
    2222211111122222
    2222222222222222
    2222222222222222
    2222222222222222
    2222222222222222
`,`
    2222222222222222
    2222222222222222
    2222222222222222
    2222222222222222
    2222222222222222
    2333333333333332
    2222222222222222
    2222222222222222
`]);

writeRLE(
    __dirname + '/game_type_menu_nametable_practise.bin',
    buffer,
);
