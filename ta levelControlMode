[1mdiff --git a/gfx/nametables/enter_high_score.js b/gfx/nametables/enter_high_score.js[m
[1mindex 20fc3dd..287f276 100644[m
[1m--- a/gfx/nametables/enter_high_score.js[m
[1m+++ b/gfx/nametables/enter_high_score.js[m
[36m@@ -37,30 +37,30 @@[m [mdrawTiles(buffer, lookup, `[m
 ################################[m
 #qwwwwwwwwwwwwwwwwwwwwwwwwwwwwe#[m
 #a                            d#[m
[31m-#a  GOOD GAME                 d#[m
[31m-#a                            d#[m
[31m-#a  YOU ARE A TETRIS MASTER   d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
 #a                            d#[m
 #a                            d#[m
 #a                            d#[m
[32m+[m[32m#a         GOOD GAME          d#[m
 #a                            d#[m
 #a                            d#[m
 #a                            d#[m
[32m+[m[32m#a         YOU ARE A          d#[m
 #a                            d#[m
[32m+[m[32m#a       TETRIS MASTER#       d#[m
 #a                            d#[m
 #a                            d#[m
[32m+[m[32m#a   PLEASE ENTER YOUR NAME   d#[m
 #a                            d#[m
[32m+[m[32m#a rtttttttttttttttttttttttty d#[m
[32m+[m[32m#a fNAME     SCORE   LNS  LVh d#[m
[32m+[m[32m#a jbbbbbbbbbbbbbbbbbbbbbbbbl d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a vbbbbbbbbbbbbbbbbbbbbbbbbn d#[m
 #a                            d#[m
 #zxxxxxxxxxxxxxxxxxxxxxxxxxxxxc#[m
 ################################[m
[36m@@ -68,7 +68,7 @@[m [mdrawTiles(buffer, lookup, `[m
 [m
 drawAttrs(buffer, [`[m
     2222222222222222[m
[31m-    2233333322222222[m
[32m+[m[32m    2222222222222222[m
     2222222222222222[m
     2222233333322222[m
     2222222222222222[m
[1mdiff --git a/gfx/nametables/enter_high_score_nametable_practise.bin b/gfx/nametables/enter_high_score_nametable_practise.bin[m
[1mindex 49255a2..185af0c 100644[m
Binary files a/gfx/nametables/enter_high_score_nametable_practise.bin and b/gfx/nametables/enter_high_score_nametable_practise.bin differ
[1mdiff --git a/gfx/nametables/game_type_menu.js b/gfx/nametables/game_type_menu.js[m
[1mindex a48366e..3ef32cd 100644[m
[1m--- a/gfx/nametables/game_type_menu.js[m
[1m+++ b/gfx/nametables/game_type_menu.js[m
[36m@@ -97,7 +97,7 @@[m [mdrawTiles(buffer, lookup, `[m
 `);[m
 [m
 [m
[31m-drawRect(buffer, 8, 2, 12, 6, 0x92); // draw logo[m
[32m+[m[32mdrawRect(buffer, 8, 2, 10, 5, 0xB0); // draw logo[m
 // drawRect(extra, 20, 0, 5, 5, 0x9A); // draw QR code[m
 [m
 const urlX = 3;[m
[36m@@ -107,9 +107,9 @@[m [mdrawRect(extra, urlX+12, urlY, 12, 1, 0x84);[m
 [m
 drawAttrs(buffer, [`[m
     2222222222222222[m
[31m-    2222211111111222[m
[31m-    2222211111111222[m
[31m-    2222211111111222[m
[32m+[m[32m    2222211111122222[m
[32m+[m[32m    2222211111122222[m
[32m+[m[32m    2222211111122222[m
     2222222222222222[m
     2222222222222222[m
     2222222222222222[m
[1mdiff --git a/gfx/nametables/game_type_menu_nametable_practise.bin b/gfx/nametables/game_type_menu_nametable_practise.bin[m
[1mindex cf718e7..db5c609 100644[m
[1m--- a/gfx/nametables/game_type_menu_nametable_practise.bin[m
[1m+++ b/gfx/nametables/game_type_menu_nametable_practise.bin[m
[36m@@ -1,4 +1,4 @@[m
[31m-‚b;ÿ„<sr;ÿ„<br;	ÿŒ’“”•–—˜™š›œÿ„<r‚;	ÿŒ¢£¤¥¦§¨©ª«¬­ÿ„<¡€;	ÿŒ²³´µ¶·¸¹º»¼½ÿ<b;	ÿŒÂÃÄÅÆÇÈÉÊËÌÍÿ„<B@;	ÿŒÒÓÔÕÖ×ØÙÚÛÜÝÿ<‚;	ÿŒâãäåæçèéêëìíÿ„<b€;ÿ„<B;ÿ†ÿ„<‚r;ÿ‡$ÿ„<a‚;ÿÿ„<rb;ÿˆ[m
[32m+[m[32m‚b;ÿ„<sr;ÿ„<br;	ÿŠ°±²³´µ¶·¸¹	ÿ„<r‚;	ÿŠÀÁÂÃÄÅÆÇÈÉ	ÿ„<¡€;	ÿŠÐÑÒÓÔÕÖ×ØÙ	ÿ<b;	ÿŠàáâãäåæçèé	ÿ„<B@;	ÿŠðñòóôõö÷øù	ÿ<‚;ÿ„<b€;ÿ„<B;ÿ†ÿ„<‚r;ÿ‡$ÿ„<a‚;ÿÿ„<rb;ÿˆ[m
 ÿ„<‚r;ÿ„[m
 ÿ„<ƒ ;ÿ†ÿ„<a`;ÿ†$"ÿ„<‚p;ÿ‚ÿ„<ƒ;ÿŠ^_[m
 ÿ„<a;ÿŠ[m
[36m@@ -13,4 +13,4 @@[m
 ÿÿ„<r;ÿ†[m
 Oƒÿ[m
 ÿ„<br;ÿ‡ÿ„<r‚;ÿŠ#ÿ[m
[31m-"ÿ‚<¡ªjZšªfU™1ªÿ[m
\ No newline at end of file[m
[32m+[m[32m"ÿ‚<¡ªjZšªfU™2ªÿ[m
\ No newline at end of file[m
[1mdiff --git a/gfx/nametables/level_menu.js b/gfx/nametables/level_menu.js[m
[1mindex 618fbf7..50e533b 100644[m
[1m--- a/gfx/nametables/level_menu.js[m
[1m+++ b/gfx/nametables/level_menu.js[m
[36m@@ -53,65 +53,34 @@[m [mprintNT(buffer, lookup);[m
 // #a    f5f6f7f8f9ÃŸbbbn         d#[m
 // #a    vbibibibibn             d#[m
 [m
[31m-// ################################[m
[31m-// #qwwwwwwwwwwwwwwwwwwwwwwwwwwwwe#[m
[31m-// #a                            d#[m
[31m-// #a                   qwwwwwwe d#[m
[31m-// #a                   a      d d#[m
[31m-// #a                   zxxxxxxc d#[m
[31m-// #a                            d#[m
[31m-// #a      â•„â•…â•…â•…â•…â•…â•†               d#[m
[31m-// #a      â•‡LEVELâ•ˆ               d#[m
[31m-// #a      â•‰â•Šâ•Šâ•Šâ•Šâ•Šâ•‹               d#[m
[31m-// #a    rtututututy             d#[m
[31m-// #a    f0f1f2f3f4h   rttty     d#[m
[31m-// #a    jbkbkbkbkbl   f   h     d#[m
[31m-// #a    f5f6f7f8f9h   vbbbn     d#[m
[31m-// #a    vbibibibibn             d#[m
[31m-// #a                            d#[m
[31m-// #a                            d#[m
[31m-// #a rtttttttttttttttttttttttty d#[m
[31m-// #a fNAME     SCORE   LNS  LVh d#[m
[31m-// #a jbbbbbbbbbbbbbbbbbbbbbbbbl d#[m
[31m-// #a f                        h d#[m
[31m-// #a f                        h d#[m
[31m-// #a f                        h d#[m
[31m-// #a f                        h d#[m
[31m-// #a f                        h d#[m
[31m-// #a f                        h d#[m
[31m-// #a vbbbbbbbbbbbbbbbbbbbbbbbbn d#[m
[31m-// #a                            d#[m
[31m-// #zxxxxxxxxxxxxxxxxxxxxxxxxxxxxc#[m
[31m-// ################################[m
[31m-[m
 drawTiles(buffer, lookup, `[m
 ################################[m
 #qwwwwwwwwwwwwwwwwwwwwwwwwwwwwe#[m
 #a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a          HIGHSCORES        d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                      LEVEL d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                      rttty d#[m
[31m-#a                      f   h d#[m
[31m-#a                      vbbbn d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[31m-#a                            d#[m
[32m+[m[32m#a                   qwwwwwwe d#[m
[32m+[m[32m#a                   a      d d#[m
[32m+[m[32m#a                   zxxxxxxc d#[m
[32m+[m[32m#a                            d#[m
[32m+[m[32m#a      â•„â•…â•…â•…â•…â•…â•†               d#[m
[32m+[m[32m#a      â•‡LEVELâ•ˆ               d#[m
[32m+[m[32m#a      â•‰â•Šâ•Šâ•Šâ•Šâ•Šâ•‹               d#[m
[32m+[m[32m#a    rtututututy             d#[m
[32m+[m[32m#a    f0f1f2f3f4h   rttty     d#[m
[32m+[m[32m#a    jbkbkbkbkbl   f   h     d#[m
[32m+[m[32m#a    f5f6f7f8f9h   vbbbn     d#[m
[32m+[m[32m#a    vbibibibibn             d#[m
[32m+[m[32m#a                            d#[m
[32m+[m[32m#a                            d#[m
[32m+[m[32m#a rtttttttttttttttttttttttty d#[m
[32m+[m[32m#a fNAME     SCORE   LNS  LVh d#[m
[32m+[m[32m#a jbbbbbbbbbbbbbbbbbbbbbbbbl d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a f                        h d#[m
[32m+[m[32m#a vbbbbbbbbbbbbbbbbbbbbbbbbn d#[m
 #a                            d#[m
 #zxxxxxxxxxxxxxxxxxxxxxxxxxxxxc#[m
 ################################[m
[36m@@ -123,16 +92,16 @@[m [mdrawAttrs(buffer, [`[m
     2222222222222222[m
     2222222222222222[m
     2222222222222222[m
[31m-    2222222222222222[m
[31m-    2222222222222222[m
[31m-    2222222222222222[m
[32m+[m[32m    2223333333333222[m
[32m+[m[32m    2223333333333222[m
[32m+[m[32m    2223333333333222[m
 `,`[m
[31m-    2222222222222222[m
[31m-    2222222222222222[m
[31m-    2222222222222222[m
[31m-    2222222222222222[m
[31m-    2222222222222222[m
[31m-    2222222222222222[m
[32m+[m[32m    2000000000000002[m
[32m+[m[32m    2000000000000002[m
[32m+[m[32m    2000000000000002[m
[32m+[m[32m    2000000000000002[m
[32m+[m[32m    2000000000000002[m
[32m+[m[32m    2000000000000002[m
     2222222222222222[m
     2222222222222222[m
 `]);[m
[1mdiff --git a/gfx/nametables/level_menu_nametable_practise.bin b/gfx/nametables/level_menu_nametable_practise.bin[m
[1mindex 14ca494..6589512 100644[m
Binary files a/gfx/nametables/level_menu_nametable_practise.bin and b/gfx/nametables/level_menu_nametable_practise.bin differ
[1mdiff --git a/gfx/rocket_tileset.png b/gfx/rocket_tileset.png[m
[1mindex fc7e8b4..0a54923 100644[m
Binary files a/gfx/rocket_tileset.png and b/gfx/rocket_tileset.png differ
[1mdiff --git a/gfx/title_menu_tileset.png b/gfx/title_menu_tileset.png[m
[1mindex e4b4516..452604e 100644[m
Binary files a/gfx/title_menu_tileset.png and b/gfx/title_menu_tileset.png differ
[1mdiff --git a/main.asm b/main.asm[m
[1mindex 782ee3b..38ff8dd 100644[m
[1m--- a/main.asm[m
[1m+++ b/main.asm[m
[36m@@ -10,7 +10,7 @@[m
 INES_MAPPER := 1 ; supports 1 and 3[m
 PRACTISE_MODE := 1[m
 NO_MUSIC := 1[m
[31m-SAVE_HIGHSCORES := 0[m
[32m+[m[32mSAVE_HIGHSCORES := 1[m
 [m
 ; dev flags[m
 AUTO_WIN := 0 ; press select to end game[m
[36m@@ -18,12 +18,12 @@[m [mNO_SCORING := 0 ; breaks pace[m
 NO_SFX := 0[m
 NO_MENU := 0[m
 [m
[31m-INITIAL_CUSTOM_LEVEL := 18[m
[32m+[m[32mINITIAL_CUSTOM_LEVEL := 29[m
 INITIAL_LINECAP_LEVEL := 39[m
 INITIAL_LINECAP_LINES := $30 ; bcd[m
 INITIAL_LINECAP_LINES_1 := 3 ; hex (lol)[m
 BTYPE_START_LINES := $25 ; bcd[m
[31m-MENU_HIGHLIGHT_COLOR := $21 ; $12 in gym, $16 in original[m
[32m+[m[32mMENU_HIGHLIGHT_COLOR := $12 ; $12 in gym, $16 in original[m
 BLOCK_TILES := $7B[m
 EMPTY_TILE := $EF[m
 INVISIBLE_TILE := $43[m
[36m@@ -384,7 +384,7 @@[m [mhighScoreScoreLength := 4[m
 highScoreLinesLength := 2[m
 highScoreLevelsLength := 2[m
 highScoreLength := highScoreNameLength + highScoreScoreLength + highScoreLinesLength + highScoreLevelsLength[m
[31m-; 3 * 16 / 91 bytes ^[m
[32m+[m[32m; 48/91 bytes ^[m
 ; .. bunch of unused stuff[m
 initMagic   := $075B                        ; Initialized to a hard-coded number. When resetting, if not correct number then it knows this is a cold boot[m
 [m
[36m@@ -836,20 +836,21 @@[m [mbranchOnPlayStatePlayer1:[m
         .addr   playState_incrementPlayState[m
 [m
 playState_playerControlsActiveTetrimino:[m
[31m-        lda practiseType[m
[31m-        cmp #MODE_HARDDROP[m
[31m-        bne @notHard[m
[31m-        jsr harddrop_tetrimino[m
[31m-        lda playState[m
[31m-        cmp #8[m
[31m-        beq playState_playerControlsActiveTetrimino_return[m
[31m-@notHard:[m
         jsr hzControl ; and dasOnly control[m
 [m
         jsr shift_tetrimino[m
         jsr rotate_tetrimino[m
 [m
[32m+[m[32m        lda practiseType[m
[32m+[m[32m        cmp #MODE_HARDDROP[m
[32m+[m[32m        bne @soft[m
[32m+[m[32m        jsr harddrop_tetrimino[m
[32m+[m[32m        lda playState[m
[32m+[m[32m        cmp #8[m
[32m+[m[32m        beq @noDrop[m
[32m+[m[32m@soft:[m
         jsr drop_tetrimino[m
[32m+[m[32m@noDrop:[m
 [m
 playState_playerControlsActiveTetrimino_return:[m
         rts[m
[36m@@ -2377,9 +2378,9 @@[m [mgameMode_levelMenu:[m
         .addr   menu_palette[m
         jsr copyRleNametableToPpu[m
         .addr   level_menu_nametable[m
[31m-        lda #$21[m
[32m+[m[32m        lda #$20[m
         sta tmp1[m
[31m-        lda #$18 ; $6D is OEM position[m
[32m+[m[32m        lda #$96 ; $6D is OEM position[m
         sta tmp2[m
         jsr displayModeText[m
         jsr showHighScores[m
[36m@@ -2410,7 +2411,7 @@[m [mgameMode_levelMenu:[m
 levelMenuLinecapInfo:[m
         lda #$20[m
         sta PPUADDR[m
[31m-        lda #$63[m
[32m+[m[32m        lda #$F5[m
         sta PPUADDR[m
         clc[m
         lda #LINECAP_WHEN_STRING_OFFSET[m
[36m@@ -2418,9 +2419,9 @@[m [mlevelMenuLinecapInfo:[m
         sta stringIndexLookup[m
         jsr stringBackground[m
 [m
[31m-        lda #$20[m
[32m+[m[32m        lda #$21[m
         sta PPUADDR[m
[31m-        lda #$83[m
[32m+[m[32m        lda #$15[m
         sta PPUADDR[m
         clc[m
         lda #LINECAP_HOW_STRING_OFFSET[m
[36m@@ -2430,7 +2431,7 @@[m [mlevelMenuLinecapInfo:[m
 [m
         lda #$20[m
         sta PPUADDR[m
[31m-        lda #$88[m
[32m+[m[32m        lda #$FA[m
         sta PPUADDR[m
         jsr render_linecap_level_lines[m
         rts[m
[36m@@ -2458,9 +2459,6 @@[m [mgameMode_levelMenu_processPlayer1Navigation:[m
 @notClearingHighscores:[m
 .endif[m
 [m
[31m-        lda #1[m
[31m-        sta levelControlMode ; CTUK[m
[31m-[m
         jsr levelControl[m
         jsr levelMenuRenderHearts[m
         jsr levelMenuRenderReady[m
[36m@@ -2611,9 +2609,9 @@[m [mlevelControlCustomLevel:[m
         lda frameCounter[m
         and #$03[m
         beq @indicatorEnd[m
[31m-        lda #$96[m
[32m+[m[32m        lda #$4E[m
         sta spriteYOffset[m
[31m-        lda #$D2[m
[32m+[m[32m        lda #$B0[m
         sta spriteXOffset[m
         lda #$21[m
         sta spriteIndexInOamContentLookup[m
[36m@@ -2836,9 +2834,9 @@[m [mlevelMenuRenderReady:[m
         lda heartsAndReady[m
         and #$F0[m
         beq @notReady[m
[31m-        lda #$A7[m
[32m+[m[32m        lda #$4f[m
         sta spriteYOffset[m
[31m-        lda #$78[m
[32m+[m[32m        lda #$88[m
         sta spriteXOffset[m
         lda #$20[m
         sta spriteIndexInOamContentLookup[m
[36m@@ -3884,14 +3882,16 @@[m [morientationToSpriteTable:[m
         .byte   $00,$00,$0C[m
 [m
 spriteCathedral:[m
[31m-        .byte $16, $F8, $3, $9, $20, $3D[m
[32m+[m[32m        .byte $20, $0, $1, $1, $20, $30[m
[32m+[m[32m        .byte $8, $8, $7, $1, $20, $31[m
[32m+[m[32m        .byte $0, $10, $8, $6, $20, $40[m
         .byte $FF[m
 [m
 spriteCathedralFire0:[m
[31m-        .byte $8, $FE, $2, $1, $1, $A0, $FF[m
[32m+[m[32m        .byte $8, $0, $2, $1, $1, $A0, $FF[m
 [m
 spriteCathedralFire1:[m
[31m-        .byte $5, $FE, $3, $2, $1, $CD, $FF[m
[32m+[m[32m        .byte $0, $0, $4, $2, $1, $A2, $FF[m
 [m
 rectBuffer := generalCounter[m
 rectX := rectBuffer+0[m
[36m@@ -4123,9 +4123,9 @@[m [mspriteHeartCursor:[m
 spriteHeart:[m
         .byte   $00,$6e,$00,$00,$FF[m
 spriteReady:[m
[31m-        .byte   $00,'R',$01,$00,$00,'E',$01,$08[m
[31m-        .byte   $00,'A',$01,$10,$00,'D',$01,$18[m
[31m-        .byte   $00,'Y',$01,$20[m
[32m+[m[32m        .byte   $00,'R',$01,$00,$08,'E',$01,$00[m
[32m+[m[32m        .byte   $10,'A',$01,$00,$18,'D',$01,$00[m
[32m+[m[32m        .byte   $20,'Y',$01,$FF[m
         .byte   $FF[m
 spriteCustomLevelCursor:[m
         .byte   $00,$6A,$00,$00,$21,$6A,$80,$00[m
[36m@@ -4246,9 +4246,9 @@[m [mrender_mode_level_menu:[m
         lda outOfDateRenderFlags[m
         and #1[m
         beq @noCustomLevel[m
[31m-        lda #$2E[m
[32m+[m[32m        lda #$21[m
         sta PPUADDR[m
[31m-        lda #$B9[m
[32m+[m[32m        lda #$95[m
         sta PPUADDR[m
         lda customLevel[m
         jsr renderByteBCD[m
[36m@@ -6860,17 +6860,6 @@[m [mshowHighScores:[m
         lda #$FF[m
         sta PPUDATA[m
 [m
[31m-        ; update PPUADDR for lines[m
[31m-        lda generalCounter2[m
[31m-        asl a[m
[31m-        tax[m
[31m-        lda highScorePpuAddrTable,x[m
[31m-        sta PPUADDR[m
[31m-        inx[m
[31m-        lda highScorePpuAddrTable,x[m
[31m-        adc #$29[m
[31m-        sta PPUADDR[m
[31m-[m
         ; lines[m
         lda highscores,y[m
         sta PPUDATA[m
[36m@@ -6887,6 +6876,17 @@[m [mshowHighScores:[m
         jsr renderByteBCD[m
         iny[m
 [m
[32m+[m[32m        ; update PPUADDR for start level[m
[32m+[m[32m        lda generalCounter2[m
[32m+[m[32m        asl a[m
[32m+[m[32m        tax[m
[32m+[m[32m        lda highScorePpuAddrTable,x[m
[32m+[m[32m        sta PPUADDR[m
[32m+[m[32m        inx[m
[32m+[m[32m        lda highScorePpuAddrTable,x[m
[32m+[m[32m        adc #$35[m
[32m+[m[32m        sta PPUADDR[m
[32m+[m
         ; level[m
         lda highscores,y[m
         jsr renderByteBCD[m
[36m@@ -6899,10 +6899,9 @@[m [mshowHighScores:[m
         jmp @copyEntry[m
 [m
 showHighScores_ret:  rts[m
[31m-hPATStart := $2103[m
[31m-hPATInc := $80[m
[32m+[m
 highScorePpuAddrTable:[m
[31m-        .dbyt   hPATStart,hPATStart+(hPATInc*1),hPATStart+(hPATInc*2),hPATStart+(hPATInc*3),hPATStart+(hPATInc*4)[m
[32m+[m[32m        .dbyt   $2284,$22C4,$2304[m
 highScoreCharToTile:[m
         .byte   $FF,$0A,$0B,$0C,$0D,$0E,$0F,$10[m
         .byte   $11,$12,$13,$14,$15,$16,$17,$18[m
[36m@@ -7058,9 +7057,9 @@[m [mhighScoreEntryScreen:[m
         jsr copyRleNametableToPpu[m
         .addr   enter_high_score_nametable[m
         jsr showHighScores[m
[31m-        lda #$20[m
[32m+[m[32m        lda #$21[m
         sta tmp1[m
[31m-        lda #$AE[m
[32m+[m[32m        lda #$89[m
         sta tmp2[m
         jsr displayModeText[m
         lda #$02[m
[36m@@ -7088,7 +7087,7 @@[m [mhighScoreEntryScreen:[m
         asl[m
         asl[m
         asl[m
[31m-        adc #$18[m
[32m+[m[32m        adc #$20[m
         sta spriteXOffset[m
         lda #$0E[m
         sta spriteIndexInOamContentLookup[m
[36m@@ -7214,7 +7213,7 @@[m [mhighScoreEntryScreen:[m
         rts[m
 [m
 highScorePosToY:[m
[31m-        .byte   $3F,$5F,$7F[m
[32m+[m[32m        .byte   $9F,$AF,$BF[m
 highScoreEntryRowOffsetLookup:[m
         .byte   $0, highScoreLength, highScoreLength*2[m
 [m
[36m@@ -7762,14 +7761,14 @@[m [mgame_palette:[m
         .byte   $3C,$00,$30,$FF[m
 title_palette:[m
         .byte   $3F,$00,$14,$0F,$3C,$38,$00,$0F[m
[31m-        .byte   $0,$10,$30,$0F,$30,MENU_HIGHLIGHT_COLOR,$00,$0F[m
[32m+[m[32m        .byte   $17,$27,$37,$0F,$30,MENU_HIGHLIGHT_COLOR,$00,$0F[m
         .byte   $22,$2A,$28,$0F,$30,$29,$27,$FF[m
 menu_palette:[m
         .byte   $3F,$00,$16,$0F,$30,$38,$26,$0F[m
         .byte   $17,$27,$37,$0F,$30,MENU_HIGHLIGHT_COLOR,$00,$0F[m
         .byte   $16,$2A,$28,$0F,$16,$26,$27,$0f,$2A,$FF[m
 rocket_palette:[m
[31m-        .byte   $3F,$11,$7,$17,$27,$38,$0f,$37,$18,$38 ; sprite[m
[32m+[m[32m        .byte   $3F,$11,$7,$16,$2A,$28,$0f,$37,$18,$38 ; sprite[m
         .byte   $3F,$00,$8,$0f,$3C,$38,$00,$0F,$20,$12,$15 ; bg[m
         .byte   $FF[m
 wait_palette:[m
[36m@@ -9329,30 +9328,30 @@[m [mnoisevol_table:[m
         .byte   $22,$22,$22,$22,$21,$11,$11,$11[m
 updateSoundEffectSlot2:[m
         ldx #$02[m
[31m-        lda #<soundEffectSlot2Init_table[m
[31m-        ldy #<soundEffectSlot2Init_table[m
[32m+[m[32m        lda #$45[m
[32m+[m[32m        ldy #$45[m
         bne updateSoundEffectSlotShared[m
 updateSoundEffectSlot3:[m
         ldx #$03[m
[31m-        lda #<soundEffectSlot3Init_table[m
[31m-        ldy #<soundEffectSlot3Playing_table[m
[32m+[m[32m        lda #$3D[m
[32m+[m[32m        ldy #$41[m
         bne updateSoundEffectSlotShared[m
 updateSoundEffectSlot4_unused:[m
         ldx #$04[m
[31m-        lda #<soundEffectSlot2Init_table[m
[31m-        ldy #<soundEffectSlot2Init_table[m
[32m+[m[32m        lda #$45[m
[32m+[m[32m        ldy #$45[m
         bne updateSoundEffectSlotShared[m
 updateSoundEffectSlot1:[m
         lda soundEffectSlot4Playing[m
         bne updateSoundEffectSlotShared_rts[m
         ldx #$01[m
[31m-        lda #<soundEffectSlot1Init_table[m
[31m-        ldy #<soundEffectSlot1Playing_table[m
[32m+[m[32m        lda #$15[m
[32m+[m[32m        ldy #$29[m
         bne updateSoundEffectSlotShared[m
 updateSoundEffectSlot0:[m
         ldx #$00[m
[31m-        lda #<soundEffectSlot0Init_table[m
[31m-        ldy #<soundEffectSlot0Playing_table[m
[32m+[m[32m        lda #$09[m
[32m+[m[32m        ldy #$0F[m
 ; x: sound effect slot; a: low byte addr, for $E0 high byte; y: low byte addr, for $E0 high byte, if slot unused[m
 updateSoundEffectSlotShared:[m
 .if !NO_SFX[m
[36m@@ -9386,7 +9385,7 @@[m [minitAudioAndMarkInited:[m
         sta $0683[m
         rts[m
 [m
[31m-handlePausedAudio:  lda audioInitialized[m
[32m+[m[32mLE1EF:  lda audioInitialized[m
         beq initAudioAndMarkInited[m
         lda $0683[m
         cmp #$12[m
[36m@@ -9399,7 +9398,7 @@[m [mhandlePausedAudio:  lda audioInitialized[m
         lda $068B[m
         and #$01[m
         bne LE20F[m
[31m-        ldy #<unknown_sq1_data1[m
[32m+[m[32m        ldy #$0C[m
 LE20F:  jsr copyToSq1Channel[m
 LE212:  inc $0683[m
 LE215:  rts[m
[36m@@ -9410,7 +9409,7 @@[m [mupdateAudio:[m
         sta JOY2_APUFC[m
         lda musicStagingNoiseHi[m
         cmp #$05[m
[31m-        beq handlePausedAudio[m
[32m+[m[32m        beq LE1EF[m
         lda #$00[m
         sta audioInitialized[m
         sta $068B[m
[36m@@ -9500,7 +9499,7 @@[m [minitSoundEffectShared:[m
 [m
 soundEffectSlot0_endingRocketInit:[m
         lda #$20[m
[31m-        ldy #<soundEffectSlot0_endingRocketInitData[m
[32m+[m[32m        ldy #$08[m
         jmp initSoundEffectShared[m
 [m
 setNoiseLo:[m
[36m@@ -9532,7 +9531,7 @@[m [munreferenced_code2:[m
         sta currentAudioSlot[m
 soundEffectSlot0_gameOverCurtainInit:[m
         lda #$40[m
[31m-        ldy #<soundEffectSlot0_gameOverCurtainInitData[m
[32m+[m[32m        ldy #$04[m
         jmp initSoundEffectShared[m
 [m
 updateSoundEffectSlot0_apu:[m
[36m@@ -9541,9 +9540,9 @@[m [mupdateSoundEffectSlot0_apu:[m
         jmp stopSoundEffectSlot0[m
 [m
 updateSoundEffectNoiseAudio:[m
[31m-        ldx #<noiselo_table[m
[32m+[m[32m        ldx #$54[m
         jsr loadNoiseLo[m
[31m-        ldx #<noisevol_table[m
[32m+[m[32m        ldx #$74[m
         jsr getSoundEffectNoiseNibble[m
         ora #$10[m
         sta NOISE_VOL[m
[36m@@ -9553,7 +9552,7 @@[m [mupdateSoundEffectNoiseAudio:[m
 ; Loads from noiselo_table(x=$54)/noisevol_table(x=$74)[m
 getSoundEffectNoiseNibble:[m
         stx AUDIOTMP1[m
[31m-        ldy #>soundEffectSlot0_gameOverCurtainInitData[m
[32m+[m[32m        ldy #$E1[m
         sty AUDIOTMP2[m
         ldx soundEffectSlot0SecondaryCounter[m
         txa[m
[36m@@ -9605,26 +9604,26 @@[m [msoundEffectSlot1_chirpChirpPlaying:[m
         cmp #$08[m
         bne soundEffectSlot1Playing_ret[m
         inc soundEffectSlot1TertiaryCounter[m
[31m-        ldy #<soundEffectSlot1Playing_chirpChirpStage2[m
[32m+[m[32m        ldy #$40[m
         jmp copyToSq1Channel[m
 [m
 ; Unused.[m
 soundEffectSlot1_chirpChirpInit:[m
[31m-        ldy #<soundEffectSlot1_chirpChirpInitData[m
[32m+[m[32m        ldy #$3C[m
         jmp initSoundEffectShared[m
 [m
 soundEffectSlot1_lockTetriminoInit:[m
         jsr LE33B[m
         beq soundEffectSlot1Playing_ret[m
         lda #$0F[m
[31m-        ldy #<soundEffectSlot1_lockTetriminoInitData[m
[32m+[m[32m        ldy #$20[m
         jmp initSoundEffectShared[m
 [m
 soundEffectSlot1_shiftTetriminoInit:[m
         jsr LE33B[m
         beq soundEffectSlot1Playing_ret[m
         lda #$02[m
[31m-        ldy #<soundEffectSlot1_shiftTetriminoInitData[m
[32m+[m[32m        ldy #$44[m
         jmp initSoundEffectShared[m
 [m
 soundEffectSlot1Playing_advance:[m
[36m@@ -9652,12 +9651,12 @@[m [msoundEffectSlot1_menuOptionSelectPlaying:[m
         bne @stage2[m
         jmp soundEffectSlot1Playing_stop[m
 [m
[31m-@stage2:ldy #<soundEffectSlot1Playing_menuOptionSelectStage2[m
[32m+[m[32m@stage2:ldy #$28[m
         jmp copyToSq1Channel[m
 [m
 soundEffectSlot1_menuOptionSelectInit:[m
         lda #$03[m
[31m-        ldy #<soundEffectSlot1_menuOptionSelectInitData[m
[32m+[m[32m        ldy #$24[m
         bne LE417[m
 soundEffectSlot1_rotateTetrimino_ret:[m
         rts[m
[36m@@ -9666,7 +9665,7 @@[m [msoundEffectSlot1_rotateTetriminoInit:[m
         jsr LE33B[m
         beq soundEffectSlot1_rotateTetrimino_ret[m
         lda #$04[m
[31m-        ldy #<soundEffectSlot1_rotateTetriminoInitData[m
[32m+[m[32m        ldy #$14[m
         jsr LE417[m
 soundEffectSlot1_rotateTetriminoPlaying:[m
         jsr advanceAudioSlotFrame[m
[36m@@ -9682,11 +9681,11 @@[m [msoundEffectSlot1_rotateTetriminoPlaying:[m
         bne soundEffectSlot1_rotateTetrimino_ret[m
         jmp soundEffectSlot1Playing_stop[m
 [m
[31m-@stage2:ldy #<soundEffectSlot1_rotateTetriminoInitData[m
[32m+[m[32m@stage2:ldy #$14[m
         jmp copyToSq1Channel[m
 [m
 ; On first glance it appears this is used twice, but the first beq does nothing because the inc result will never be 0[m
[31m-@stage3:ldy #<soundEffectSlot1Playing_rotateTetriminoStage3[m
[32m+[m[32m@stage3:ldy #$18[m
         jmp copyToSq1Channel[m
 [m
 soundEffectSlot1_tetrisAchievedInit:[m
[36m@@ -9696,14 +9695,14 @@[m [msoundEffectSlot1_tetrisAchievedInit:[m
         beq @ntsc[m
         lda #$4[m
 @ntsc:[m
[31m-        ldy #<soundEffectSlot1_tetrisAchievedInitData[m
[32m+[m[32m        ldy #$30[m
         jsr LE417[m
         lda #$10[m
         bne LE437[m
 soundEffectSlot1_tetrisAchievedPlaying:[m
         jsr advanceAudioSlotFrame[m
         bne LE43A[m
[31m-        ldy #<soundEffectSlot1_tetrisAchievedInitData[m
[32m+[m[32m        ldy #$30[m
         bne LE442[m
 LE417:  jmp initSoundEffectShared[m
 [m
[36m@@ -9714,14 +9713,14 @@[m [msoundEffectSlot1_lineCompletedInit:[m
         beq @ntsc[m
         lda #$4[m
 @ntsc:[m
[31m-        ldy #<soundEffectSlot1_lineCompletedInitData[m
[32m+[m[32m        ldy #$34[m
         jsr LE417[m
         lda #$08[m
         bne LE437[m
 soundEffectSlot1_lineCompletedPlaying:[m
         jsr advanceAudioSlotFrame[m
         bne LE43A[m
[31m-        ldy #<soundEffectSlot1_lineCompletedInitData[m
[32m+[m[32m        ldy #$34[m
         bne LE442[m
 soundEffectSlot1_lineClearingInit:[m
         lda #$04[m
[36m@@ -9730,7 +9729,7 @@[m [msoundEffectSlot1_lineClearingInit:[m
         beq @ntsc[m
         lda #$3[m
 @ntsc:[m
[31m-        ldy #<soundEffectSlot1_lineClearingInitData[m
[32m+[m[32m        ldy #$38[m
         jsr LE417[m
         lda #$00[m
 LE437:  sta soundEffectSlot1TertiaryCounter[m
[36m@@ -9739,7 +9738,7 @@[m [mLE43A:  rts[m
 soundEffectSlot1_lineClearingPlaying:[m
         jsr advanceAudioSlotFrame[m
         bne LE43A[m
[31m-        ldy #<soundEffectSlot1_lineClearingInitData[m
[32m+[m[32m        ldy #$38[m
 LE442:  jsr copyToSq1Channel[m
         clc[m
         lda soundEffectSlot1TertiaryCounter[m
[36m@@ -9765,7 +9764,7 @@[m [mLE472:  rts[m
 [m
 soundEffectSlot1_menuScreenSelectInit:[m
         lda #$03[m
[31m-        ldy #<soundEffectSlot1_menuScreenSelectInitData[m
[32m+[m[32m        ldy #$2C[m
         jsr initSoundEffectShared[m
         lda soundEffectSlot1_menuScreenSelectInitData+2[m
         sta soundEffectSlot1SecondaryCounter[m
[36m@@ -9822,7 +9821,7 @@[m [msoundEffectSlot1_levelUpInit:[m
         beq @ntsc[m
         lda #$5[m
 @ntsc:[m
[31m-        ldy #<soundEffectSlot1_levelUpInitData[m
[32m+[m[32m        ldy #$1C[m
         jmp initSoundEffectShared[m
 [m
 unknown18_table:[m
[36m@@ -9885,7 +9884,7 @@[m [mupdateSoundEffectSlot3_apu:[m
 ; Unused[m
 soundEffectSlot3_fallingAlien:[m
         lda #$06[m
[31m-        ldy #<soundEffectSlot3_unknown1InitData[m
[32m+[m[32m        ldy #$48[m
         jsr initSoundEffectShared[m
         lda soundEffectSlot3_unknown1InitData+2[m
         sta soundEffectSlot3TertiaryCounter[m
[1mdiff --git a/tools/cycles.lua b/tools/cycles.lua[m
[1mdeleted file mode 100644[m
[1mindex fd03568..0000000[m
[1m--- a/tools/cycles.lua[m
[1m+++ /dev/null[m
[36m@@ -1,36 +0,0 @@[m
[31m-ï»¿waitForVBlankTrigger = false[m
[31m-lastCycles = nil[m
[31m-highest = 0[m
[31m-highCount = 0[m
[31m-[m
[31m-function startFrame(address, value)[m
[31m-    state = emu.getState()[m
[31m-    waitForVBlankTrigger = false[m
[31m-    lastCycles = state.cpu.cycleCount[m
[31m-    highCount = highCount + 1[m
[31m-    if highCount > 30 then[m
[31m-        highCount = 0[m
[31m-        highest = 0[m
[31m-    end[m
[31m-end[m
[31m-[m
[31m-function cyclePCT(cycles)[m
[31m-    return string.format(" (%d%%)", math.floor((cycles / 29780.5)*100))[m
[31m-end[m
[31m-[m
[31m-function vblankCheck(address, value)[m
[31m-    if waitForVBlankTrigger == false then[m
[31m-        waitForVBlankTrigger = true[m
[31m-        state = emu.getState()[m
[31m-        diff = state.cpu.cycleCount - lastCycles[m
[31m-        if diff > highest then[m
[31m-            highest = diff[m
[31m-        end[m
[31m-        emu.drawRectangle(8, 8, 150, 24, 0x000000, true, 1)[m
[31m-        emu.drawString(12, 9, "used cycles - " .. diff .. cyclePCT(diff), 0xFFFFFF, 0xFF000000, 1)[m
[31m-        emu.drawString(12, 21, "highest/sec/2 - " .. highest .. cyclePCT(highest), 0xFFFFFF, 0xFF000000, 1)[m
[31m-[m
[31m-    end[m
[31m-end[m
[31m-emu.addMemoryCallback(vblankCheck, emu.memCallbackType.cpuRead, 0x33)[m
[31m-emu.addEventCallback(startFrame, emu.eventType.startFrame)[m
